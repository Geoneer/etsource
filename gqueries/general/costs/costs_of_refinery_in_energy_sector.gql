# As of may 4, the costs are now minimum 0, so the query cannot return a negative value.

- query =
    MAX(
     SUM(
      V(CARRIER(lpg), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_lpg),
      NEG(V(CARRIER(lpg), cost_per_mj) * V(energy_export_lpg,input_of_lpg)),
      V(CARRIER(diesel), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_diesel),
      NEG(V(CARRIER(diesel), cost_per_mj) * V(energy_export_diesel,input_of_diesel)),
      V(CARRIER(gasoline), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_gasoline),
      NEG(V(CARRIER(gasoline), cost_per_mj) * V(energy_export_gasoline,input_of_gasoline)),
      V(CARRIER(kerosene), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_kerosene),
      NEG(V(CARRIER(kerosene), cost_per_mj) * V(energy_export_kerosene,input_of_kerosene)),
      V(CARRIER(heavy_fuel_oil), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_heavy_fuel_oil),
      NEG(V(CARRIER(heavy_fuel_oil), cost_per_mj) * V(energy_export_heavy_fuel_oil,input_of_heavy_fuel_oil)),
      V(CARRIER(refinery_gas), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_refinery_gas),
      V(CARRIER(oil_products), cost_per_mj) * V(industry_refinery_transformation_crude_oil, output_of_oil_products),
      NEG(V(CARRIER(crude_oil), cost_per_mj) * V(energy_export_oil_products,input_of_crude_oil)),
      NEG(V(CARRIER(crude_oil), cost_per_mj) * V(industry_refinery_transformation_crude_oil,input_of_crude_oil) )
     ),
     0
    )
- unit = euro
- deprecated_key = cost_refinery
